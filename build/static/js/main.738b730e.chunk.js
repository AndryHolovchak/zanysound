(this.webpackJsonpzanysound=this.webpackJsonpzanysound||[]).push([[0],{20:function(e,t,n){e.exports={track:"track_track__2m9Xg",track__cover:"track_track__cover__3blN6",track__main_info:"track_track__main_info__3uL_g",track__title:"track_track__title__19Nml",track__artist:"track_track__artist__blDR4",track__like:"track_track__like__2ahKF"}},23:function(e,t,n){e.exports={player:"player_player__1BaC5",player__cover:"player_player__cover__2lb0f",player__main_info:"player_player__main_info__sijji",player__title:"player_player__title__CHZsl",player__artist:"player_player__artist__2SO4w"}},24:function(e,t,n){e.exports={screen_container:"screenContainer_screen_container__1HtxU",screen_container__desktop_menu_container:"screenContainer_screen_container__desktop_menu_container__27-Hp",screen_container__right_side:"screenContainer_screen_container__right_side__3Sq7z",screen_container__screen:"screenContainer_screen_container__screen__3ma8e"}},29:function(e,t,n){e.exports={desktop_menu:"desktopMenu_desktop_menu__33KDS",desktop_menu__item:"desktopMenu_desktop_menu__item__3ECmP","desktop_menu__item--active":"desktopMenu_desktop_menu__item--active__1-7_3",desktop_menu__item_icon:"desktopMenu_desktop_menu__item_icon__1Qkgp"}},30:function(e,t,n){e.exports={mobile_menu:"mobileMenu_mobile_menu__uqaUQ",mobile_menu__item:"mobileMenu_mobile_menu__item__3HiBV","mobile_menu__item--active":"mobileMenu_mobile_menu__item--active__12-XJ",mobile_menu__item_icon:"mobileMenu_mobile_menu__item_icon__3Kb0u"}},31:function(e,t,n){e.exports={playlist_preview:"playlistPreview_playlist_preview__2ZW7L",playlist_preview__title:"playlistPreview_playlist_preview__title__CE_ee",playlist_preview__cover:"playlistPreview_playlist_preview__cover__1xiRN"}},36:function(e,t,n){e.exports={tracklist:"tracklist_tracklist__vV6XL",tracklist__inner:"tracklist_tracklist__inner__24VWk",tracklist__track:"tracklist_tracklist__track__3eVD5"}},37:function(e,t,n){e.exports={search_screen:"searchScreen_search_screen__13z54",search_screen__tracklist:"searchScreen_search_screen__tracklist__wGJfj",search_screen_input:"searchScreen_search_screen_input__1yFF7"}},40:function(e,t,n){e.exports={icon:"icon_icon__2Mu76"}},43:function(e,t,n){e.exports={welcome_screen:"welcomeScreenMobile_welcome_screen__UBHp7"}},45:function(e,t,n){},47:function(e,t,n){e.exports={liked_screen:"likedScreen_liked_screen__247ce"}},48:function(e,t,n){e.exports={button:"button_button__3k3QA"}},49:function(e,t,n){e.exports={collection_screen:"collectionScreen_collection_screen__Ahijt"}},50:function(e,t,n){e.exports={playlist_screen:"PlaylistScreen_playlist_screen__2Gxfr"}},51:function(e,t,n){},59:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r,c=n(1),a=n.n(c),s=n(32),i=n.n(s),o=(n(59),n(19)),l=n(8),u=n(28),_=function(){return Object(u.b)()},d=u.c,p=n(10),j=Object(p.a)({name:"app",initialState:{isMobileEnv:!1},reducers:{changeIsMobileEnv:function(e,t){e.isMobileEnv=t.payload}}}),b=j.actions.changeIsMobileEnv,m=function(e){return e.app.isMobileEnv},f=j.reducer,h=n(17),x=n(13),k=n.n(x);!function(e){e.Collection="/collection",e.Search="/search",e.Liked="/liked",e.Recommended="/recommended",e.Profile="/profile"}(r||(r={}));var O,v,y=n(40),w=n.n(y);!function(e){e.Deg90="fa-rotate-90",e.Deg180="fa-rotate-180",e.Deg270="fa-rotate-270"}(O||(O={})),function(e){e.Solid="fas",e.Regular="far",e.Light="fal",e.Duotone="fad",e.Brands="fab"}(v||(v={}));var g,N=n(0),E=function(e){var t=e.name,n=e.onClick,r=e.type,c=void 0===r?v.Regular:r,a=e.rotation,s=void 0===a?"":a,i=e.fixedWidth,o=void 0!==i&&i,l=e.withBackground,u=void 0!==l&&l,_=e.title,d=void 0===_?"":_,p=e.className,j=void 0===p?"":p,b=k()([c,s,j,w.a.icon,"fa-".concat(t),o&&"fa-fw",u&&w.a["icon--with_bg"]]);return Object(N.jsx)("i",{title:d,className:b,onClick:n})},S=(n(45),n(29)),P=n.n(S),T=function(e){var t=e.path,n=e.title,r=e.icon,c=Object(l.h)(),a=Object(l.g)(),s=k()([P.a.desktop_menu__item,Object(h.a)({},P.a["desktop_menu__item--active"],c.pathname===t)]);return Object(N.jsxs)("div",{className:s,onClick:function(){return a.push(t)},children:[Object(N.jsx)(E,{name:r,className:P.a.desktop_menu__item_icon}),Object(N.jsx)("span",{children:n})]})},R=function(){return Object(N.jsxs)("div",{className:P.a.desktop_menu,children:[Object(N.jsx)(T,{path:r.Collection,icon:"album-collection",title:"Playlists"}),Object(N.jsx)(T,{path:r.Search,icon:"search",title:"Search"}),Object(N.jsx)(T,{path:r.Liked,icon:"heart",title:"Liked"}),Object(N.jsx)(T,{path:r.Recommended,icon:"fire",title:"Recommended"}),Object(N.jsx)(T,{path:r.Profile,icon:"user",title:"Profile"})]})},C=n(30),L=n.n(C),I=function(e){var t=e.path,n=e.icon,r=Object(l.h)(),c=Object(l.g)(),a=k()([L.a.mobile_menu__item,Object(h.a)({},L.a["mobile_menu__item--active"],r.pathname===t)]);return Object(N.jsx)("div",{className:a,onClick:function(){return c.push(t)},children:Object(N.jsx)(E,{name:n,className:L.a.mobile_menu__item_icon})})},M=function(){return Object(N.jsxs)("div",{className:L.a.mobile_menu,children:[Object(N.jsx)(I,{path:r.Collection,icon:"album-collection"}),Object(N.jsx)(I,{path:r.Search,icon:"search"}),Object(N.jsx)(I,{path:r.Liked,icon:"heart"}),Object(N.jsx)(I,{path:r.Recommended,icon:"fire"}),Object(N.jsx)(I,{path:r.Profile,icon:"user"})]})},D=Object(p.a)({name:"player",initialState:{paused:!1,track:null},reducers:{changePlayerPaused:function(e,t){e.paused=t.payload},changePlayerTrack:function(e,t){e.track=t.payload}}}),U=D.actions,z=(U.changePlayerPaused,U.changePlayerTrack),A=function(e){return e.player.paused},V=function(e){return e.player.track},B=D.reducer,G=n(23),K=n.n(G),W=function(){_(),d(A);var e=d(V);return e?Object(N.jsxs)("div",{className:K.a.player,children:[Object(N.jsx)("img",{src:e.album.xlCover,className:K.a.player__cover}),Object(N.jsxs)("div",{className:K.a.player__main_info,children:[Object(N.jsx)("span",{className:K.a.player__title,children:e.title}),Object(N.jsx)("span",{className:K.a.player__artist,children:e.artist.name})]})]}):Object(N.jsx)(N.Fragment,{})},X=n(24),F=n.n(X),q=function(e){var t=e.children,n=e.withMenu,r=void 0===n||n,c=d(m);return Object(N.jsxs)("div",{className:F.a.screen_container,children:[r&&!c&&Object(N.jsx)("div",{className:F.a.screen_container__desktop_menu_container,children:Object(N.jsx)(R,{})}),Object(N.jsxs)("div",{className:F.a.screen_container__right_side,children:[Object(N.jsx)("div",{className:F.a.screen_container__screen,children:t}),r&&c&&Object(N.jsxs)("div",{className:F.a.screen_container__mobile_menu_container,children:[Object(N.jsx)(W,{}),Object(N.jsx)(M,{})]})]})]})},H=n(16),J=n(14),Z=n(46),Q=n(3),Y=n.n(Q),$=Object(p.a)({name:"content",initialState:{playlists:[],playlistsTracks:{},recommendedTracks:[]},reducers:{changePlaylists:function(e,t){e.playlists=Object(J.a)({},t.payload)},changePlaylistsTracks:function(e,t){e.playlistsTracks=Object(J.a)({},t.payload)},changeRecommendedTracks:function(e,t){e.recommendedTracks=Object(H.a)(t.payload)}}}),ee=$.actions,te=ee.changePlaylists,ne=ee.changePlaylistsTracks,re=ee.changeRecommendedTracks,ce=function(e){return e.content.playlists},ae=function(e){return e.content.playlistsTracks},se=function(e){return e.content.recommendedTracks},ie=$.reducer,oe=Object(p.a)({name:"user",initialState:{playlistsIds:[],likedTracks:[],likedTracksIds:[]},reducers:{changeLikedTracks:function(e,t){e.likedTracks=Object(H.a)(t.payload)},changeLikedTracksIds:function(e,t){e.likedTracksIds=Object(H.a)(t.payload)},changeUserPlaylistsIds:function(e,t){e.playlistsIds=Object(H.a)(t.payload)}}}),le=oe.actions,ue=le.changeLikedTracks,_e=le.changeLikedTracksIds,de=le.changeUserPlaylistsIds,pe=function(e){return e.user.likedTracks},je=function(e){return e.user.likedTracksIds},be=function(e){return e.user.playlistsIds},me=oe.reducer,fe=n(25),he=n(5),xe=Object(p.a)({name:"deezer",initialState:{token:""},reducers:{changeDeezerToken:function(e,t){e.token=t.payload}}}),ke=xe.actions.changeDeezerToken,Oe=function(e){return e.deezer.token},ve=xe.reducer,ye=n(35),we=function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=["?"],r=0,c=Object.entries(e);r<c.length;r++){var a=Object(ye.a)(c[r],2),s=a[0],i=a[1];n.push("".concat(s,"=").concat(t?encodeURIComponent(i):i))}return n.join("&")},ge=Y.a.mark(Se),Ne=Y.a.mark(Pe);!function(e){e.Get="GET",e.Post="POST",e.Delete="DELETE"}(g||(g={}));var Ee="https://api.deezer.com";function Se(e){var t,n,r,c,a,s,i,o,l=arguments;return Y.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:{},n=l.length>2&&void 0!==l[2]?l[2]:g.Get,r=l.length>3&&void 0!==l[3]?l[3]:{},u.next=5,Object(he.e)(Oe);case 5:return c=u.sent,a=we(Object.assign(t,{access_token:c})),s=Ee+e+a,i=n===g.Get?void 0:r,u.next=11,Object(he.b)(fetch,s,{method:n,body:i});case 11:return o=u.sent,u.abrupt("return",o);case 13:case"end":return u.stop()}}),ge)}function Pe(){var e,t;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Se("/user/me/playlists");case 2:return e=n.sent,n.next=5,e.json();case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}}),Ne)}var Te=function(){var e=Object(fe.a)(Y.a.mark((function e(t){var n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se("/playlist/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(fe.a)(Y.a.mark((function e(t){var n,r,c,a,s=arguments;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:0,r=encodeURIComponent(t),e.next=4,Se("/search?q=".concat(r,"&strict=off&order=RANKING&index=").concat(n));case 4:return c=e.sent,e.next=7,c.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(fe.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se("/user/me/tracks",{track_id:t},g.Post);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(fe.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se("/user/me/tracks",{track_id:t},g.Delete);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(fe.a)(Y.a.mark((function e(){var t,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se("/user/me/recommendations/tracks");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(e){var t={id:e.artist.id.toString(),name:e.artist.name,picture:e.artist.picture,xlPicture:e.artist.picture_xl,bigPicture:e.artist.picture_big,smallPicture:e.artist.picture_small,mediumPicture:e.artist.picture_medium};return{album:{id:e.album.id.toString(),title:e.album.title,cover:e.album.cover,xlCover:e.album.cover_xl,bigCover:e.album.cover_big,smallCover:e.album.cover_small,mediumCover:e.album.cover_medium},artist:t,id:e.id.toString(),rank:e.rank,title:e.title,duration:e.duration,shortTitle:e.title_short,explicitLyrics:e.explicit_lyrics}},De=Y.a.mark(Xe),Ue=Y.a.mark(Fe),ze=Y.a.mark(qe),Ae=Y.a.mark(He),Ve=Y.a.mark(Je),Be="user/load/basicInfo",Ge="user/load/playlists",Ke="user/add/trackToLiked",We="user/remove/trackFromLiked";function Xe(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.d)({type:Ge});case 2:case"end":return e.stop()}}),De)}function Fe(){var e,t,n,r,c,a,s,i,o,l,u;return Y.a.wrap((function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Pe();case 2:e=_.sent,console.log(e),t=[],n=Object(Z.a)(e),_.prev=6,n.s();case 8:if((r=n.n()).done){_.next=26;break}if(c=r.value,!(a={id:(d=c).id.toString(),title:d.title,creatorId:d.creator.id,creationDate:new Date(d.creation_date),isLikedTracks:d.is_loved_track,picture:d.picture,smallPicture:d.picture_small,mediumPicture:d.picture_medium,bitPicture:d.picture_big,xlPicture:d.picture_xl}).isLikedTracks){_.next=23;break}return _.next=14,Te(a.id);case 14:return s=_.sent,i=s.map((function(e){return Me(e)})),o=i.reverse(),_.next=19,Object(he.d)(ue(i));case 19:return _.next=21,Object(he.d)(_e(o.map((function(e){return e.id}))));case 21:_.next=24;break;case 23:t.push(a);case 24:_.next=8;break;case 26:_.next=31;break;case 28:_.prev=28,_.t0=_.catch(6),n.e(_.t0);case 31:return _.prev=31,n.f(),_.finish(31);case 34:return _.next=36,Object(he.e)(ce);case 36:return l=_.sent,u={},t.forEach((function(e){u[e.id]=e})),_.next=41,Object(he.d)(te(Object(J.a)(Object(J.a)({},l),u)));case 41:return _.next=43,Object(he.d)(de(t.map((function(e){return e.id}))));case 43:case"end":return _.stop()}var d}),Ue,null,[[6,28,31,34]])}function qe(e){var t,n,r,c;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.track,a.next=4,Object(he.e)(pe);case 4:return r=a.sent,a.next=7,Object(he.e)(je);case 7:return c=a.sent,a.next=10,Object(he.d)(ue([n].concat(Object(H.a)(r))));case 10:return a.next=12,Object(he.d)(_e([n.id].concat(Object(H.a)(c))));case 12:return a.next=14,Ce(n.id);case 14:case"end":return a.stop()}}),ze)}function He(e){var t,n,r,c,a,s,i,o;return Y.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,n=t.track,l.next=4,Object(he.e)(pe);case 4:return r=l.sent,l.next=7,Object(he.e)(je);case 7:if(c=l.sent,a=r.indexOf(n),s=c.indexOf(n.id),-1!==a||-1!==s){l.next=13;break}return console.log("ERROR: The track is not liked"),l.abrupt("return");case 13:if(!(-1===a&&-1!==s||-1===s&&-1!==a)){l.next=15;break}throw new Error("track ids sync error");case 15:return i=Array.from(r),o=Array.from(c),i.splice(a,1),o.splice(s,1),l.next=21,Object(he.d)(ue(Object(H.a)(i)));case 21:return l.next=23,Object(he.d)(_e(Object(H.a)(o)));case 23:return l.next=25,Le(n.id);case 25:case"end":return l.stop()}}),Ae)}function Je(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.f)(Be,Xe);case 2:return e.next=4,Object(he.f)(Ge,Fe);case 4:return e.next=6,Object(he.f)(Ke,qe);case 6:return e.next=8,Object(he.f)(We,He);case 8:case"end":return e.stop()}}),Ve)}var Ze=n(20),Qe=n.n(Ze),Ye=function(e){var t=e.model,n=e.liked,r=e.className,c=e.onClick,a=_(),s=k()([Qe.a.track,r]);return Object(N.jsxs)("div",{className:s,onClick:c,children:[Object(N.jsx)("img",{alt:"cover",src:t.album.cover,className:Qe.a.track__cover}),Object(N.jsxs)("div",{className:Qe.a.track__main_info,children:[Object(N.jsx)("span",{className:Qe.a.track__title,children:t.title}),Object(N.jsx)("span",{className:Qe.a.track__artist,children:t.artist.name})]}),Object(N.jsx)(E,{name:"heart",type:n?v.Solid:v.Light,className:Qe.a.track__like,onClick:function(){a(n?{type:We,payload:{track:t}}:function(e){return{type:Ke,payload:e}}({track:t}))}})]})},$e=n(36),et=n.n($e),tt=function(e){var t=e.tracks,n=e.className,r=_(),c=k()([et.a.tracklist,n]),a=d(je);return Object(N.jsx)("div",{className:c,children:Object(N.jsx)("div",{className:et.a.tracklist__inner,children:t.map((function(e){return Object(N.jsx)(Ye,{liked:a.includes(e.id),model:e,onClick:function(){r(z(e))},className:et.a.tracklist__track},e.id)}))})})},nt=n(47),rt=n.n(nt),ct=function(){var e=d(pe);return Object(N.jsx)(q,{children:Object(N.jsx)("div",{className:rt.a.liked_screen,children:Object(N.jsx)(tt,{tracks:e})})})},at=Object(p.a)({name:"search",initialState:{result:[]},reducers:{changeSearchResult:function(e,t){e.result=t.payload}}}),st=at.actions.changeSearchResult,it=function(e){return e.search.result},ot=at.reducer,lt=Y.a.mark(dt),ut=Y.a.mark(pt),_t="search/track";function dt(e){var t,n,r;return Y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.query,c.next=4,Re(n);case 4:return r=c.sent,c.next=7,Object(he.d)(st(r.map((function(e){return Me(e)}))));case 7:case"end":return c.stop()}}),lt)}function pt(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.f)(_t,dt);case 2:case"end":return e.stop()}}),ut)}var jt=n(37),bt=n.n(jt),mt=function(){var e=_(),t=Object(c.useState)(""),n=Object(ye.a)(t,2),r=n[0],a=n[1],s=function(){e({type:_t,payload:{query:r}})};return Object(N.jsx)("div",{className:bt.a.search_screen_input,onKeyDown:function(e){"Enter"===e.key&&s()},children:Object(N.jsx)("input",{value:r,onChange:function(e){return a(e.target.value)},placeholder:"Search"})})},ft=function(){var e=d(it);return Object(N.jsx)(q,{children:Object(N.jsxs)("div",{className:bt.a.search_screen,children:[Object(N.jsx)(mt,{}),Object(N.jsx)(tt,{tracks:e,className:bt.a.search_screen__tracklist})]})})},ht=n(48),xt=n.n(ht),kt=function(e){var t=e.title,n=e.className,r=e.onCLick,c=k()([xt.a.button,n]);return Object(N.jsx)("button",{className:c,onClick:r,children:t})},Ot=Y.a.mark(wt),vt=Y.a.mark(gt),yt="deezer/signInBy/redirect";function wt(){var e;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=we({app_id:"535202",redirect_uri:"http://localhost:3000/cb",perms:"basic_access,email,manage_community,manage_library,delete_library,offline_access",format:"popup",response_type:"token"}),window.open("https://connect.deezer.com/oauth/auth.php"+e,"_self");case 2:case"end":return t.stop()}}),Ot)}function gt(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.f)(yt,wt);case 2:case"end":return e.stop()}}),vt)}var Nt=n(43),Et=n.n(Nt),St=function(){var e=_();return Object(N.jsx)("div",{className:Et.a.welcome_screen,children:Object(N.jsx)(kt,{title:"Sign in by Deezer",className:Et.a.welcome_screen_sign_in_button,onCLick:function(){return e({type:yt})}})})},Pt=n(31),Tt=n.n(Pt),Rt=function(e){var t=e.playlistModel,n=Object(l.g)();return Object(N.jsxs)("div",{className:Tt.a.playlist_preview,onClick:function(){n.push("/playlist/".concat(t.id))},children:[Object(N.jsx)("img",{className:Tt.a.playlist_preview__cover,src:t.xlPicture,alt:""}),Object(N.jsx)("div",{className:Tt.a.playlist_preview__right_side,children:Object(N.jsx)("span",{className:Tt.a.playlist_preview__title,children:t.title})})]})},Ct=n(49),Lt=n.n(Ct),It=function(){var e=d(ce),t=d(be),n=Object.values(e).filter((function(e){return t.includes(e.id)}));return Object(N.jsx)(q,{children:Object(N.jsx)("div",{className:Lt.a.collection_screen,children:n.map((function(e){return Object(N.jsx)(Rt,{playlistModel:e})}))})})},Mt=Y.a.mark(Vt),Dt=Y.a.mark(Bt),Ut=Y.a.mark(Gt),zt="content/load/playlistTracks",At="content/load/recommendedTracks";function Vt(e){var t,n,r,c,a;return Y.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.playlistId,s.next=4,Object(he.e)(ae);case 4:return r=s.sent,s.next=7,Te(n);case 7:return c=s.sent,a=c.map((function(e){return Me(e)})),s.next=11,Object(he.d)(ne(Object(J.a)(Object(J.a)({},r),{},Object(h.a)({},n,a))));case 11:case"end":return s.stop()}}),Mt)}function Bt(){var e,t;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ie();case 2:return e=n.sent,t=e.map((function(e){return Me(e)})),n.next=6,Object(he.d)(re(t));case 6:case"end":return n.stop()}}),Dt)}function Gt(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.f)(zt,Vt);case 2:return e.next=4,Object(he.f)(At,Bt);case 4:case"end":return e.stop()}}),Ut)}var Kt=n(50),Wt=n.n(Kt),Xt=function(){var e=Object(l.i)().id,t=_(),n=(d(ce),d(ae));Object(c.useEffect)((function(){t({type:zt,payload:{playlistId:e}})}),[e]);var r=n[e];return(null===r||void 0===r?void 0:r.length)?Object(N.jsx)(q,{children:Object(N.jsx)("div",{className:Wt.a.playlist_screen,children:Object(N.jsx)(tt,{tracks:r})})}):Object(N.jsx)("span",{children:"Playlist is empty or not loaded yet"})},Ft=n(51),qt=n.n(Ft),Ht=function(){var e=_(),t=d(se);return Object(c.useEffect)((function(){e({type:At})}),[]),(null===t||void 0===t?void 0:t.length)?Object(N.jsx)(q,{children:Object(N.jsx)("div",{className:qt.a.recommended_screen,children:Object(N.jsx)(tt,{tracks:t})})}):Object(N.jsx)("span",{children:"Recommended tracks not loaded yey"})},Jt=function(){var e=Object(l.g)(),t=_();return Object(c.useEffect)((function(){var n="?"+window.location.hash.slice(1),r=new URLSearchParams(n).get("token|access_token");t(ke(r||"")),e.push("/")}),[]),Object(N.jsx)(N.Fragment,{})};var Zt=function(){var e=_(),t=d(m),n=d(Oe),r=Object(c.useCallback)((function(){+(window.innerWidth<=1024)^+t&&e(b(!t))}),[t,e]);return Object(c.useEffect)((function(){return window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}),[r]),Object(c.useEffect)((function(){e(b(window.innerWidth<=1024))}),[]),Object(c.useEffect)((function(){n&&e({type:Be})}),[n]),n?Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(o.a,{children:Object(N.jsxs)(l.d,{children:[Object(N.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(N.jsx)(l.a,{to:"/liked"})}}),Object(N.jsx)(l.b,{exact:!0,path:"/liked",children:Object(N.jsx)(ct,{})}),Object(N.jsx)(l.b,{exact:!0,path:"/search",children:Object(N.jsx)(ft,{})}),Object(N.jsx)(l.b,{exact:!0,path:"/collection",children:Object(N.jsx)(It,{})}),Object(N.jsx)(l.b,{exact:!0,path:"/recommended",children:Object(N.jsx)(Ht,{})}),Object(N.jsx)(l.b,{exact:!0,path:"/playlist/:id",children:Object(N.jsx)(Xt,{})})]})})}):Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(o.a,{children:Object(N.jsxs)(l.d,{children:[Object(N.jsx)(l.b,{exact:!0,path:"/cb",children:Object(N.jsx)(Jt,{})}),Object(N.jsx)(l.b,{path:"*",children:Object(N.jsx)(St,{})})]})})})},Qt=n(9),Yt=n(54),$t=n(44),en=n(52),tn=n.n(en),nn={DEEZER_TOKEN_STORAGE_KEY:"dz",DEEZER_APP_ID:"457842",MP3_SERVER_URL:"http://localhost:13350"},rn=Object(p.a)({name:"mp3",initialState:{urls:{}},reducers:{changeMp3Urls:function(e,t){e.urls=t.payload},setMp3Url:function(e,t){e.urls=Object(J.a)(Object(J.a)({},e.urls),{},Object(h.a)({},t.payload.id,t.payload.mp3Url))}}}),cn=rn.actions,an=(cn.changeMp3Urls,cn.setMp3Url),sn=rn.reducer,on=Y.a.mark(_n),ln=Y.a.mark(dn),un="mp3/generate/url";function _n(e){var t,n,r,c,a,s,i,o;return Y.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,n=t.title,r=t.artist,c=t.trackId,a=we({title:n,artist:r,deezerId:c}),console.log(nn.MP3_SERVER_URL+"/url/mp3"+a),l.next=6,fetch(nn.MP3_SERVER_URL+"/url/mp3"+a);case 6:return s=l.sent,l.next=9,s.json();case 9:return i=l.sent,o={ulr:i,expires:s.headers.get("Expires"),canExpire:!0},l.next=13,Object(he.d)(an({id:c,mp3Url:o}));case 13:case"end":return l.stop()}}),on)}function dn(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.f)(un,_n);case 2:case"end":return e.stop()}}),ln)}var pn=Y.a.mark(jn);function jn(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.a)([Object(he.c)(pt),Object(he.c)(gt),Object(he.c)(Je),Object(he.c)(dn),Object(he.c)(Gt)]);case 2:case"end":return e.stop()}}),pn)}var bn={key:"persist-root",storage:tn.a},mn=Object(Qt.b)({app:f,deezer:ve,search:ot,user:me,mp3:sn,player:B,content:ie}),fn=Object(Yt.a)(),hn=Object($t.a)(bn,mn),xn=Object(Qt.c)(Object(Qt.a)(fn),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),kn=Object(Qt.d)(hn,void 0,xn),On=Object($t.b)(kn);fn.run(jn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var vn=n(53);i.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(u.a,{store:kn,children:Object(N.jsx)(vn.a,{loading:null,persistor:On,children:Object(N.jsx)(Zt,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.738b730e.chunk.js.map